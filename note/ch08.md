# 8章 型付き算術式（Typed Arithmetic Expressions）

```toc
```

## 8.1 型
算術式の構文（図 3.2）

|項      |`$\mathtt{t}$`                                                                    |
|:-------|:---------------------------------------------------------------------------------|
|定数真  |`$\mathtt{true}$`                                                                 |
|定数偽  |`$\mathtt{false}$`                                                                |
|条件式  |`$\mathtt{if} \ \mathtt{t}\ \mathtt{then}\ \mathtt{t}\ \mathtt{else}\ \mathtt{t}$`|
|定数ゼロ|`$\mathtt{0}$`                                                                    |
|後者値  |`$\mathtt{succ}\ \mathtt{t}$`                                                     |
|前者値  |`$\mathtt{pred}\ \mathtt{t}$`                                                     |
|ゼロ判定|`$\mathtt{iszero}\ \mathtt{t}$`                                                   |

|値  |`$\mathtt{v}$`    |
|:---|:-----------------|
|真  |`$\mathtt{true}$` |
|偽  |`$\mathtt{false}$`|
|数値|`$\mathtt{nv}$`   |

|数値  |`$\mathtt{nv}$`               |
|:-----|:-----------------------------|
|ゼロ  |`$\mathtt{0}$`                |
|後者値|`$\mathtt{succ}\ \mathtt{nv}$`|

- `$\mathtt{pred}\ \mathtt{0}$` … 正しい
- `$\mathtt{pred}\ \mathtt{false}$` … 行き詰まり状態
    - 行き詰まり状態は，「無意味」「間違ったプログラム」に対応

**型の目的**

項を **実際に評価せず** に（静的チェック），その項が決して **行き詰まり状態にならない** ことを言いたい

2つの型を導入
- `$\mathtt{Bool}$`
- `$\mathtt{Nat}$`

メタ変数 `$\mathtt{S}$`, `$\mathtt{T}$`, `$\mathtt{U}$` は型の上を動くものとする．

**用語**
- 項 `$\mathtt{t}$` が型 `$\mathtt{T}$` を持つ
- `$\mathtt{t}$` が `$\mathtt{T}$` に属する
- `$\mathtt{t}$` は `$\mathtt{T}$` の要素である

`$\mathtt{t}$`を評価した結果が「明らかに」（静的に，`$\mathtt{t}$` を評価することなく）
適切な形の値になることを意味する

（例）
- `$\mathtt{if} \ \mathtt{true}\ \mathtt{then}\ \mathtt{false}\ \mathtt{else}\ \mathtt{true}$` は `$\mathtt{Bool}$` 型を持つ
- `$\mathtt{pred}(\mathtt{succ}(\mathtt{pred}(\mathtt{succ}\ \mathtt{0})))$` は `$\mathtt{Nat}$` 型を持つ
